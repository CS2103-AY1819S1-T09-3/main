<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Jeffry - Project Portfolio</title><link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="seedu-header"><nav class="navbar navbar-lg navbar-light bg-lighter"><div class="container"><a class="navbar-brand" href="https://se-edu.github.io/"><img src="../images/SeEduLogo.png" alt="SE-EDU"></a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link active" href="../index.html">AB-4</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/collate">Collate</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/se-book">Book</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/learningresources">Resources</a></li></ul></div></nav></div><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html">Piconso</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link" href="../LearningOutcomes.html">LOs</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://cs2103-ay1819s1-t09-3.github.io/main/index.html"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Jeffry - Project Portfolio</h1></div><div id="content"><div class="sect1">
<h2 id="project-piconso"><a class="link" href="#project-piconso">Project: Piconso</a></h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="link" href="#overview">Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Piconso is a powerful general-purpose image editing tool.
The user interacts with it through a flexible command-line interface and receives instant visual feedback through the Graphical User Interface (GUI) written in JavaFX.
The application is mainly written in Java and spans a considerable 10k Lines of Code (LoC).
The codebase is well-maintained with a rigorous system of checks and tests in place to ensure that code quality is consistently high.
A comprehensive set of guides are also provided to ensure a smooth on-boarding process for both users and contributors alike.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">Summary of contributions</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>As the point man of the group, I led the group through discussions from idea generation to delegation of work.
I placed extra emphasis on engineering optimal solutions to real pain points.
As a result, my team was able to morph the given codebase from a trivial application into a polished product.</p>
</div>
<div class="paragraph">
<p>I put my considerable experience to use by being available at all times to help out with various tasks like design considerations and debugging. I believe that my contribution has improved the unlying engineering of the codebase which in turn sped up the application manyfold.</p>
</div>
<div class="paragraph">
<p>My major contributions are as follows:</p>
</div>
<div class="paragraph">
<p><strong>Designed and implemented the unlying data structures and models for the manipulation of canvases and layers.</strong></p>
</div>
<div class="paragraph">
<p>This allowed other team members to maintain a clear separation of concerns and reduce dependencies which in turn made the code base less prone to breaking changes. This is a major change that affects virtually all of the code base and future developers looking to add or improve Piconso will have to build upon my models.</p>
</div>
<div class="paragraph">
<p>In fact, I have already extended my models to provide end-users with a hassle-free and easily understandable way to navigate more intricate image editing features such as layer ordering and canvas size. This improves the user experience significantly as these features are expected of any modern image editing tool. It also reduces the friction of users migrating to Piconso from other competitors.</p>
</div>
<div class="paragraph">
<p><strong>Added a sub-command targeted at tech-savvy users : <code>raw</code>.</strong></p>
</div>
<div class="paragraph">
<p>In line with our goal of being a powerful and flexible tool, I have added a feature that allows users to tap into the full power of Piconso. This is a notable departure from the other commands in the application which can be fairly restrictive but easy to learn. The raw command allows users to quickly experiment and iterate upon their image editing process without excessive hand-holding from the application.</p>
</div>
<div class="paragraph">
<p>By giving advanced users the freedom to do as they please, I have brought Piconso closer in terms of feature parity as compared to commercial heavy-weights like Photoshop.</p>
</div>
<div class="paragraph">
<p>Developers will also save time on manually implementing obscure functionalities that the majority of the end-users will likely never use. This results in a more streamlined code base unlike Photoshop which clocks in at over 10 million LoCs.</p>
</div>
<div class="paragraph">
<p>Besides that, I have also made multiple smaller contributions which significantly improves the user experience.</p>
</div>
<div class="paragraph">
<p><strong>Implemented the ImagePanel</strong></p>
</div>
<div class="paragraph">
<p>The ImagePanel is at the heart of Piconso, displaying the output of Piconso to the user visually. It was carefully engineered with reuse in mind and its usage painstakingly documented for future developers.</p>
</div>
<div class="paragraph">
<p><strong>Improved upon the HistoryListPanel</strong></p>
</div>
<div class="paragraph">
<p>Building upon the work of other teammates, I have improved the HistoryListPanel to reflect past operations on across multiple layers. Now users can quickly see what operations they have performed on each layer.</p>
</div>
<div class="paragraph">
<p><strong>Implemented the LayerPanel</strong></p>
</div>
<div class="paragraph">
<p>Similar to the HistoryListPanel, the LayerPanel displays information that that users might have trouble keeping track of in a clean and easily grokkable fashion. Users can clearly see which layer they are operating on as well as the order of layers.</p>
</div>
<div class="paragraph">
<p><strong>Executed upon the change in layout</strong></p>
</div>
<div class="paragraph">
<p>I rearranged the layout of the user interface components from the initial code base to one that was designed by the team to be more user-friendly.</p>
</div>
<div class="paragraph">
<p>Here is the code that I have written for this product: [<a href="https://github.com/CS2103-AY1819S1-T09-3/main/commits?author=j-lum">All commits</a>] [<a href="https://nus-cs2103-ay1819s1.github.io/cs2103-dashboard/#=undefined&amp;search=j-lum">Dashboard</a>]</p>
</div>
<div class="paragraph">
<p><strong>Other contributions</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Project management:</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>I commented on critical pull requests.
I also extensively tested and reported bugs along with a comprehensive reproduction reports: <a href="https://github.com/CS2103-AY1819S1-W14-4/main/issues/170">#170</a> <a href="https://github.com/CS2103-AY1819S1-W14-4/main/issues/175">#175</a></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Documentation:</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>I wrote a tutorial to walk users through the on-boarding process with a sample project that demonstrates most of the key features of our application. This light-hearted tutorial also serves to show that our application is relevant and solves problems that the reader can relate to.</p>
</div>
<div class="paragraph">
<p>I also contributed multiple new illustrations to the developer&#8217;s guide to help future contributors visualise what each command does.
The illustrations are included in my contributions below.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">Contributions to the User Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the User Guide.
They showcase my ability to write comprehensive but simple documentation that addresses the needs of users.</em></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="getting-started"><a class="link" href="#getting-started">Getting started</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Let&#8217;s work through a simple project in Piconso from start to finish.
In this tutorial, you will learn how to create some of the dankest memes starting from a blank template.</p>
</div>
<div class="paragraph">
<p>If you ever get stuck with a command, pop down to the Features section for reference!</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/tutorial/before-after.png" alt="width:2000">
</div>
<div class="title">Figure 1. The Piconso team know how it feels.</div>
</div>
<div class="paragraph">
<p><strong>Ready to start your Piconso journey?</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Head over to the link <a href="https://github.com/CS2103-AY1819S1-T09-3/main/blob/master/docs/images/tutorial.zip">here</a> to get a zip file with all the assets you need to get started!</p>
</li>
<li>
<p>Unzip the files into somewhere easy to access, like your Pictures folder.</p>
</li>
<li>
<p>Start Piconso!</p>
</li>
<li>
<p>Use the <code>cd</code> and <code>ls</code> commands to get to the folder with your unzipped assets.
You can use the <code>TAB</code> key to auto-complete pesky folder names! If everything went well, you should see all your images show up in the Image Panel.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/tutorial/step%201.png" alt="width:2000">
</div>
<div class="title">Figure 2. Images and index are showing up!</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>See the number below the base image? That&#8217;s the <em>index</em> of the image. It might be different depending on your folder&#8217;s content. If you don&#8217;t see it within the first ten images, use the <code>next</code> and <code>prev</code> command to navigate!</p>
</li>
<li>
<p>Open the image simply by typing <code>open [index]</code>. <em>(Substitute index with the number you noted down just now)</em></p>
</li>
<li>
<p>You should see the base template in all its glory.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/tutorial/step%202.png" alt="width:2000">
</div>
<div class="title">Figure 3. Ready to rumble.</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p>Now we can start layering the other images on top of the base image. Let&#8217;s start by adding the coveralls logo.
We do that by using the <code>layer add</code> command. The logo is at index 3 for us so we enter <code>layer add 3</code>.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/tutorial/step%203.png" alt="width:2000">
</div>
<div class="title">Figure 4. Not exactly where we want it but it&#8217;s a start.</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="9">
<li>
<p>The logo is a bit too big for our liking so let&#8217;s resize it a bit. Start by selecting the layer that the logo is on with a quick <code>layer select 2</code>.</p>
</li>
<li>
<p>Follow up with <code>apply resize 70%</code> and put Coveralls down a peg or two.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/tutorial/step%204.png" alt="width:2000">
</div>
<div class="title">Figure 5. Why don&#8217;t you pick on someone your own <strong>SIZE</strong> huh? Get it? Size?</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="11">
<li>
<p>The logo isn&#8217;t where we want it so let&#8217;s move it right to the balloon.
Hit it with a <code>layer position 295x50</code>.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/tutorial/step%205.png" alt="width:2000">
</div>
<div class="title">Figure 6. And that&#8217;s for rejecting my pull request!</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="12">
<li>
<p>Repeat steps 8 - 11 to place <code>regret.png</code> somewhere on the pink monster. Remember to select the new layer before you start to resize and reposition! <em>(Psst. resize for 60% and move it to (5, 450) if you don&#8217;t feel like experimenting.)</em></p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/tutorial/step%206.png" alt="width:2000">
</div>
<div class="title">Figure 7. Do androids dream of 100% code coverage?</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="13">
<li>
<p>Let&#8217;s save our work before we <strong>DEEP FRY</strong> the living daylights out of it! You can do that by typing <code>save arrangement.png</code> or if you&#8217;re feeling adventurous just <code>save</code> will overwrite your current file irreversibly.</p>
</li>
<li>
<p>Open our file again, refer to step 5 and 6 if you need help.</p>
</li>
<li>
<p>Now we can begin to use some of the more advanced features in Piconso! We add some noise to the image with <code>apply raw +noise gaussian</code>.</p>
</li>
<li>
<p>Feel free to repeat the step 15 a few times to get the desired amount of noise! We did it five times to be sure. If you ever go overboard, use the <code>undo</code> command to &#8230;&#8203; undo the previous command. But face it, you&#8217;re going to <code>redo</code> it anyway.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/tutorial/step%207.png" alt="width:2000">
</div>
<div class="title">Figure 8. Noisy indeed.</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="17">
<li>
<p>Now we bump the contrast up, <strong>way <em>way</em></strong> up with <code>apply raw -contrast-stretch 15%</code>.</p>
</li>
<li>
<p>Brightness and saturation gets the same boost with <code>apply raw -modulate 120,120</code>.</p>
</li>
<li>
<p>Apply the finishing touches with an unsharp mask! <code>apply raw -unsharp 0x05</code>. Now the meme is starting to take shape!</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/tutorial/step%208.png" alt="width:2000">
</div>
<div class="title">Figure 9. New and improved image, now with 500% more noise, 120% more brightness, 120% more saturation!</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="20">
<li>
<p>We are almost done! Repeat steps 8 - 11 again to slap some of the emojis on.
You can use the <code>apply rotate [degree]</code> command to spice the meme up a bit. If you&#8217;re short on time, we&#8217;ve provided the exact resize and new positions:</p>
<div class="literalblock">
<div class="content">
<pre>For the crying emoji:
   layer position 125x330
   apply resize 20%
   apply rotate 75</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>For the 2 OK emojis:
   apply resize 10%
   layer position 270x390
   apply rotate 80</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/tutorial/step%209.png" alt="width:2000">
</div>
<div class="title">Figure 10. You&#8217;re finna gonna yeet this image.</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="21">
<li>
<p>Save the image again (<code>save lit_meme.png</code>) and we&#8217;re ready to upload our image!</p>
</li>
<li>
<p>Login with the aptly named <code>login</code> command. Don&#8217;t worry, Piconso will never store your password in any shape or form!</p>
</li>
<li>
<p>Upload the file with <code>g ul &lt;lit_meme.png&gt;</code>. You should see a confirmation message when the upload is complete.</p>
</li>
<li>
<p><code>logout</code> when you&#8217;re done! Congrats, you have just went from to a Piconso-certified meme hero!</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Before we let you go, wonder how we made the very first image you saw? Try this before you go!</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="25">
<li>
<p>Add the base image back in, the base image will take up all the canvas space but don&#8217;t worry.</p>
</li>
<li>
<p>Select the layer which the original image is on and move it out of the way</p>
<div class="literalblock">
<div class="content">
<pre>layer select 5
layer position -450x0</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="28">
<li>
<p>Use <code>canvas auto-resize on</code> to expand the canvas to show both of them.</p>
</li>
<li>
<p>Remove the background color of the canvas with <code>canvas bgcolor none</code> or change it to something you like!</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="canvas-operations-code-canvas-code"><a class="link" href="#canvas-operations-code-canvas-code">Canvas operations : <code>canvas</code></a></h3>
<div class="sect3">
<h4 id="changing-the-size-of-the-canvas-code-canvas-size-code"><a class="link" href="#changing-the-size-of-the-canvas-code-canvas-size-code">Changing the size of the canvas: <code>canvas size</code></a></h4>
<div class="paragraph">
<p>You can change the size of the canvas to with this command. Remember that the effects of <code>canvas auto-resize</code> takes precedence!
If <code>canvas auto-resize</code> is <code>off</code>, cropping might potentially occur.</p>
</div>
<div class="paragraph">
<p>Format: <code>canvas size (NEW_SIZE)</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If the optional parameter NEW_SIZE is not provided, the current size will be displayed in the output instead.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>canvas size 800x600</code> - Sets the canvas to have a height of 800 pixels and a width of 600px.</p>
</li>
<li>
<p><code>canvas size</code> - Prints the current size.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="changing-the-background-color-of-the-canvas-code-canvas-bgcolor-code"><a class="link" href="#changing-the-background-color-of-the-canvas-code-canvas-bgcolor-code">Changing the background color of the canvas: <code>canvas bgcolor</code></a></h4>
<div class="paragraph">
<p>You can change the background color of the canvas with this command. This is only visible if the canvas is larger than all the images placed on it.
See the examples for the formats that your colors can take.</p>
</div>
<div class="paragraph">
<p>Format: <code>canvas bgcolor (NEW_COLOR)</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If the optional parameter NEW_COLOUR is not provided, the current colour will be displayed in the output instead.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>canvas bgcolor none</code> - Sets the canvas to have a transparent background.</p>
</li>
<li>
<p><code>canvas bgcolor #0f0</code> - Sets the canvas to the hex colour #00ff00 <span class="image"><img src="../images/00ff00.png" alt="width:15"></span>.</p>
</li>
<li>
<p><code>canvas bgcolor #00ff00</code> - Sets the canvas to the hex colour #00ff00 <span class="image"><img src="../images/00ff00.png" alt="width:15"></span>.</p>
</li>
<li>
<p><code>canvas bgcolor rgba(0,255,0,0.7)</code> - Sets the canvas to the hex colour #00ff00 but with 70% opacity <span class="image"><img src="../images/00ff00-70.png" alt="width:15"></span>.</p>
</li>
<li>
<p><code>canvas bgcolor</code> - Prints the background colour.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="allowing-the-canvas-to-auto-resize-code-canvas-auto-resize-on-off-code"><a class="link" href="#allowing-the-canvas-to-auto-resize-code-canvas-auto-resize-on-off-code">Allowing the canvas to auto-resize: <code>canvas auto-resize [ON|OFF]</code></a></h4>
<div class="paragraph">
<p>This command allows you to turns the auto-resize for the canvas on or off.
When auto-resize is on, it can potentially override the size manually specified with the <code>canvas size</code> command.
When <code>on</code>, the canvas expands as required to ensure that no clipping occurs.</p>
</div>
<div class="paragraph">
<p>Format : canvas auto-resize [ON|OFF]</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>New canvases default to having auto-resize off.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>canvas auto-resize on</code>: Allows the canvas to expand and prevent cropping.</p>
</li>
<li>
<p><code>canvas auto-resize off</code>: The height and width of the output canvas will remain as is.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="layer-operations-code-layer-code"><a class="link" href="#layer-operations-code-layer-code">Layer operations : <code>layer</code></a></h3>
<div class="sect3">
<h4 id="adding-a-new-layer-code-layer-add-index-layer_name-code"><a class="link" href="#adding-a-new-layer-code-layer-add-index-layer_name-code">Adding a new layer: <code>layer add [INDEX] (LAYER_NAME)</code></a></h4>
<div class="paragraph">
<p>You can select the image at the provided index and add it to the current canvas with this command.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If the optional parameter LAYER_NAME is not provided, one will be automatically generated.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>layer add 4</code> - Adds the image at index 4 to the canvas.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="removing-a-layer-code-layer-remove-index-code"><a class="link" href="#removing-a-layer-code-layer-remove-index-code">Removing a layer: <code>layer remove [INDEX]</code></a></h4>
<div class="paragraph">
<p>This command allows you to permanently removes a layer from canvas.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This operation is not reversible! Be careful when removing layers!</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="selecting-a-layer-to-work-on-code-layer-select-index-code"><a class="link" href="#selecting-a-layer-to-work-on-code-layer-select-index-code">Selecting a layer to work on: <code>layer select [INDEX]</code></a></h4>
<div class="paragraph">
<p>This command allows you to a layer to that all <code>apply</code> and <code>layer position</code> operations will work on.
The index of a layer is displayed before its name in the Layers panel.</p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>layer select 2</code> : Selects the layer at index 2.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="swapping-the-order-of-two-layers-code-layer-swap-to_index-from_index-code"><a class="link" href="#swapping-the-order-of-two-layers-code-layer-swap-to_index-from_index-code">Swapping the order of two layers: <code>layer swap [TO_INDEX] [FROM_INDEX]</code></a></h4>
<div class="paragraph">
<p>You can change the order of any two distinct layers with this command. The lower the index, the further behind it will be.</p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>layer swap 1 2</code> : Changes the order of layer 1 and layer 2.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="positioning-a-layer-code-layer-position-position-code"><a class="link" href="#positioning-a-layer-code-layer-position-position-code">Positioning a layer: <code>layer position [POSITION]</code></a></h4>
<div class="paragraph">
<p>This command allows you to set the x and y co-ordinates of the current layer.
(0,0) is defined to be the top left of the screen.</p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>layer position 50x100</code> : Sets the layer&#8217;s top left corner to be at position (50, 100).</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the Developer Guide. They showcase my ability to write technical documentation and the technical depth of my contributions to the project.</em></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="implementation-canvas-and-layer-features"><a class="link" href="#implementation-canvas-and-layer-features">Implementation: Canvas and Layer features</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="general-overview"><a class="link" href="#general-overview">General overview</a></h3>
<div class="paragraph">
<p>The <code>Canvas</code> and <code>Layer</code> classes serve as a layer of encapsulation for handling one or more instances of <code>PreviewImage</code>.
This is in line with good defensive coding practices and separation of concerns.</p>
</div>
</div>
<div class="sect2">
<h3 id="canvas-canvas-command"><a class="link" href="#canvas-canvas-command">Canvas (canvas) command</a></h3>
<div class="paragraph">
<p>There are a set of overloaded command types inheriting from <code>CanvasCommand</code>, namely:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>bgcolor</code> - Sets the background colour of the canvas.</p>
</li>
<li>
<p><code>size</code> - Sets the height and the width of the canvas.</p>
</li>
<li>
<p><code>auto-resize</code> - Toggles the auto-resize property of the canvas.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="current-implementation"><a class="link" href="#current-implementation">Current implementation</a></h4>
<div class="paragraph">
<p>Canvas manages various properties made accessible through the <code>ModelManager</code> class.
Layer order is preserved as it important for image composition.</p>
</div>
<div class="paragraph">
<p>Canvas implements the following accessors and utility functions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>getLayers()</code> - Returns an ordered list of layers which is guaranteed to be neither <code>null</code> or empty.</p>
</li>
<li>
<p><code>getLayerNames()</code> - Returns a list of layer names in order.</p>
</li>
<li>
<p><code>addLayer(PreviewImage, String)</code> - Adds a given <code>PreviewImage</code> into the canvas on its own layer.</p>
</li>
<li>
<p><code>getCurrentLayer()</code> - Returns the current instance of the layer that is being operated on.</p>
</li>
<li>
<p><code>getCurrentLayerIndex()</code> - Returns the index of the current instance of the layer that is being operated on.</p>
</li>
<li>
<p><code>setCurrentLayer(Index)</code> - Sets the layer to be operated on.</p>
</li>
<li>
<p><code>removeLayer(Index)</code> - Removes a layer at a given index. The current layer and the last remaining layer in a canvas cannot be removed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All of these functions are exposed through the <code>Model</code> interface.
Implementations in <code>ModelManager</code> usually include a call to the corresponding accessor along with utility functions to manage the state of the UI.</p>
</div>
<div class="paragraph">
<p>Beneath the hood, <code>Canvas</code> manipulation is powered by ImageMagick.
All of the properties represented in <code>Canvas</code> are transformed into their respective flags or arguments in ImageMagick.
For example, the <code>isCanvasAuto</code> property is transformed into the flag <code>-flatten</code> if false and <code>-layers merge</code> if true.</p>
</div>
<div class="paragraph">
<p>The <code>processCanvas</code> is a factory method that handles this transformation, returning an instance of a <code>ProcessBuilder</code>.
The <code>ProcessBuilder</code> is then passed to <code>ImageMagickUtils#runProcessBuilder</code> which executes the process and stores the output in a BufferedImage.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/CanvasSequenceDiagram.png" alt="CanvasSequenceDiagram" width="2000">
</div>
<div class="title">Figure 11. Sequence Diagram for Canvas Command</div>
</div>
<div class="paragraph">
<p>The above diagram illustrates the process of parsing and executing <code>canvas</code> commands.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The user executes any command beginning with <code>canvas</code>.</p>
</li>
<li>
<p>The command is first parsed by <code>PiconsoParser</code> which picks up the <code>canvas</code> keyword and passes any remaining arguments to <code>CanvasCommandParser</code>.</p>
</li>
<li>
<p><code>CanvasCommandParser</code> determines the appropriate sub-command being executed and performs the requested operation on the canvas.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">Design considerations</a></h4>
<div class="paragraph">
<p><strong>Manipulation of the <code>ProcessBuilder</code></strong></p>
</div>
<div class="paragraph">
<p><span class="underline">Alternatives</span></p>
</div>
<div class="paragraph">
<p>Storing arguments directly in a <code>List&lt;T&gt;</code> where T is a custom type that implements <code>Comparable&lt;T&gt;</code> to ensure that arguments are in the correct order. A helper function will then map the <code>T</code> to a <code>String</code> and the resultant <code>List&lt;String&gt;</code> will be used to construct the necessary <code>ProcessBuilder</code>.</p>
</div>
<div class="paragraph">
<p><span class="underline">Evaluation</span></p>
</div>
<div class="paragraph">
<p>While insertion of new layers and properties will be extremely easy, modifying or removal of existing properties will involve searching through the entire list. As a result, this method is extremely hard to grok and performs poorly upon update or deletion of existing properties.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="layer-layer-commands"><a class="link" href="#layer-layer-commands">Layer (layer) commands</a></h3>
<div class="paragraph">
<p>The <code>layer</code> command follows a similar pattern as the <code>canvas</code> command.
The following sub-commands inherit from <code>LayerCommand</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>add</code> - Adds a layer from the <code>Canvas</code> and generates a layer name.</p>
</li>
<li>
<p><code>delete</code> - Removes a layer from the <code>Canvas</code>. The current layer and the last remaining layer cannot be removed.</p>
</li>
<li>
<p><code>select</code> - Selects a layer to work on.</p>
</li>
<li>
<p><code>swap</code> - Swaps the order of two distinct layers.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="current-implementation-2"><a class="link" href="#current-implementation-2">Current implementation</a></h4>
<div class="paragraph">
<p><code>Layer</code> implements a few key accessors and utility functions. Some of them include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>addTranformation(Transformation)</code> - Adds a given transformation into its <code>PreviewImage</code>'s <code>TransformationSet</code>.</p>
</li>
<li>
<p><code>getName()</code> - Gets the name of the layer.</p>
</li>
<li>
<p><code>setHeight(int)</code> - Sets the height of the layer.</p>
</li>
<li>
<p><code>setWidth(int)</code> - Sets the width of the layer.</p>
</li>
<li>
<p><code>setPosition(int, int)</code> - Sets the x and y coordinates of the layer.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following image illustrates the coordinate system adopted in Piconso.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/coords.png" alt="coords" width="2000">
</div>
</div>
<div class="paragraph">
<p>The default anchor point is the top-left corner, this means that a <code>layer position -10x-10</code> command will set that layer&#8217;s top left corner at <code>(-10, -10)</code>.
It is possible to have negative co-ordinates although clipping will occur unless the canvas is set to auto-resize.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/LayerSequenceDiagram.png" alt="LayerSequenceDiagram" width="2000">
</div>
<div class="title">Figure 12. Sequence Diagram for Layer Command</div>
</div>
<div class="paragraph">
<p>The above diagram illustrates the process of parsing and executing of <code>canvas</code> commands.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The user executes any command beginning with <code>layer</code>.</p>
</li>
<li>
<p>The command is first parsed by <code>PiconsoParser</code> which picks up the <code>layer</code> keyword and passes any remaining arguments to <code>LayerCommandParser</code>.</p>
</li>
<li>
<p><code>LayerCommandParser</code> determines the appropriate sub-command being executed and performs the requested operation on the canvas and current layer.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-2"><a class="link" href="#design-considerations-2">Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Further manipulation of the <code>ProcessBuilder</code></strong></p>
</div>
<div class="paragraph">
<p><em>Alternatives</em>
* It is actually possible to nest <code>ImageMagick</code> commands which means that it is possible to keep separate <code>List&lt;T&gt;</code>s and conjugate them when the canvas needs to be rendered.
The resultant ImageMagick command will take the form :</p>
</div>
<div class="literalblock">
<div class="content">
<pre>magick [overall canvas flags] {[canvas flag] (individual layer flags)} [overall canvas flags]</pre>
</div>
</div>
<div class="paragraph">
<p>Where blocks enclosed by <code>{ }</code> need to be repeated per layer.</p>
</div>
<div class="paragraph">
<p><em>Evaluation</em></p>
</div>
<div class="ulist">
<ul>
<li>
<p>This solution is the most straight-forward and results in no intermediate files which is usually desirable. However, the resultant ImageMagick command will short circuit and cause the entire expression to fail if any of flags are incompatible or incorrect. Caching is also impossible, causing the whole canvas and all of its layers to be composed again from scratch.</p>
</li>
<li>
<p>Con: This results in a poor user experience and hence we have decided against it.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="canvas-and-layers-in-action"><a class="link" href="#canvas-and-layers-in-action">Canvas and Layers in action</a></h3>
<div class="paragraph">
<p>As the <code>canvas</code> and <code>layer</code> commands compliment each other, let&#8217;s walk through a typical user&#8217;s session in Piconso from start to finish.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The user executes a valid <code>open</code> command:
A <code>Canvas</code> is constructed holding exactly one <code>Layer</code>
with the default height and width being that of the image selected.</p>
</li>
<li>
<p>The user adds a new layer to the canvas:
<code>Canvas#addLayer</code> is executed and the helper functions in <code>ModelManager</code> refreshes the UI.</p>
</li>
<li>
<p>The user swaps the order of the two layers to such that the original image is back on top:
<code>Canvas#swapLayer</code> swaps the two entries in the list of layers.</p>
</li>
<li>
<p>While still on the original layer, the user moves it to the top left: <code>Layer#setPosition</code> moves the first layer out of the way.</p>
</li>
<li>
<p>The user decides to work on the second layer and enters <code>layer select 2</code>:
<code>Canvas#setCurrentLayer</code> changes the current layer to the given index and internally keeps track of the index as well.</p>
</li>
<li>
<p>A transformation is applied by the user to the current layer: <code>Canvas#addTransformation</code> appends the new Transformation to the current Layer.
Note that no image processing occurs until a new render is requested.</p>
</li>
<li>
<p>After a <code>canvas size 80x60`command: The new `Canvas#setSize</code> is applied upon the next render and it crops the image to a fraction of what it used to be.
Remember that resizing and scaling is accomplished with the <code>apply resize</code> command.</p>
</li>
<li>
<p>Realising his mistake, the user sets the canvas to fit his all of his layers: <code>Canvas#setCanvasAuto</code> toggles a boolean.</p>
</li>
<li>
<p>The user fills in the default transparent background with a <code>canvas bgcolor #707070</code> : a hex color code is accepted by <code>Canvas#setBackgroundColor</code>.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/CanvasLayersDemo.png" alt="CanvasLayersDemo" width="2000">
</div>
<div class="title">Figure 13. Results of various commands. The black bounding rectangle indicates the canvas size.</div>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2018-11-11 14:39:55 UTC</div></div></div></body></html>