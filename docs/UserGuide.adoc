= Piconso - User Guide
:site-section: UserGuide
:toc:
:toc-title:
:toc-placement: preamble
:sectnums:
:imagesDir: images
:stylesDir: stylesheets
:xrefstyle: full
:experimental:
ifdef::env-github[]
:tip-caption: :bulb:
:note-caption: :information_source:
endif::[]
:repoURL: https://github.com/CS2103-AY1819S1-T09-3/main

By: `Team SE-EDU`      Since: `Jun 2016`      Licence: `MIT`

== Introduction

Piconso is for those who *prefer to use a desktop app for editing images*. More importantly, Piconso is *optimized for those who prefer to work with a Command Line Interface* (CLI) while still having the benefits of a Graphical User Interface (GUI). If you can type fast, Piconso can edit your images faster than Photoshop. Interested? Jump to the <<Quick Start>> to get started. Enjoy!

== Quick Start

.  Ensure you have Java version `9` or later installed in your Computer.
.  Download the latest `piconso.jar` link:{repoURL}/releases[here].
.  Copy the file to the folder you want to use as the home folder for your Piconso.
.  Double-click the file to start the app. The GUI should appear in a few seconds.

image::Ui.png[width:800]

[[Features]]
== Features

==== Command Format
* Items in square brackets are compulsory parameters to be added e.g `convert [TRANSFORMATION]` +
* Items in round brackets are optional parameters and can be omitted, e.g `canvas size (NEW_SIZE)` +
* For items surrounded by `< >`, they are compulsory parameters to be added that need to be typed with `< >` +
** e.g `g ls <ALBUM_NAME>` can be used as `g ls <Vacation>` +
* Flags such as `/a` are compulsory flags that need to be included when using that command
** e.g `g ul ls /a`

=== Viewing help : `help`

Format: `help`: viewing list of all commands

=== Selecting images for editing: `select`

Format: `select [INDEX]`: selects an image for image-editing
Format: `select -all`: adds all images in current directory from working set [Coming in v2.0]

Examples:

* `select 1` +
* `select -all`

=== Retrieves the next batch of images: `next`

Format: `next`: Retrieving the next 10 images for editing

=== Applying a transformation to an image : `convert`

Format: `convert [args]`: apply the conversion specified to the select image

Custom defined transformation by user (see save set, 3.5)

* Format: `convert [NAME_OF_TRANSFORMATION_SET]`

Available transformations

* `resize`: resize the image to the specified percentage of the original one

** Format: `convert resize [percentage]`

* `blur`: performs gaussian blur on the currently opened image, with the argument specified with radius and sigama

** Format: `convert blur [RadiusxSigama]`

* `colorspace`: change the color space of the current image

** Format: `convert colorspace [color space]`

* `contrast`: adjust the contrast of the image.

** Format: `convert contrast`

* `rotate`: rotates an image. DIRECTION [left, right], VALUE [-180, 180]

** Format: `convert rotate [vlaue]`

=== Saving images/transformation set : `save`

Format: `save -image [IMAGE_NAME]`: saves the transformed image +
Format: `save -set [SET_NAME]`: saves the transformation set added thus far as a new transformation type

Examples:

* `save -image exampleImage` +
* `save -set exampleSet`

=== Undoing previous actions : `undo`

Format: `undo`: Step back to previous transformation

[NOTE]
====
Commands that can be undone: those commands that modify the image's transformation (`add` and `clear`).
====

Examples:

* `convert resize 50` +
`undo` (reverses the `convert resize 50` command) +

=== Redoing the previous actions : `redo`

Format: `redo`: Step forward to previous transformation

Examples:

* `convert resize 50` +
`undo` (reverses the `convert resize 50` command) +
`redo` (reapplies the `convert resize 50` command) +

=== Listing files in directory : `ls`

Format: `ls`: lists files in the current directory

=== Changing directories : `cd`

Format: `cd [DIRECTORY_NAME]`: changes directory

=== Canvas operations : `canvas`

==== Changing the size of the canvas: `canvas size`
Format: `canvas size (NEW_SIZE)`

[NOTE]
====
If the optional parameter NEW_SIZE is not provided, the current size will be displayed in the output instead.
====

Examples:

* `canvas size 800x600` - Sets the canvas to have a height of 800 pixels and a width of 600px.
* `canvas size` - Prints the current size.

==== Changing the background color of the canvas: `canvas bgcolour`
Format: `canvas bgcolour (NEW_COLOR)`

[NOTE]
====
If the optional parameter NEW_COLOUR is not provided, the current colour will be displayed in the output instead.
====

Examples:

* `canvas bgcolour none` - Sets the canvas to have a transparent background.
* `canvas bgcolour #0f0` - Sets the canvas to the hex colour #00ff00 image:00ff00.png[width:15].
* `canvas bgcolour #00ff00` - Sets the canvas to the hex colour #00ff00 image:00ff00.png[width:15].
* `canvas bgcolour rgba(0,255,0,0.7)` - Sets the canvas to the hex colour #00ff00 but with 70% opacity image:00ff00-70.png[width:15].
* `canvas bgcolour` - Prints the background colour.

==== Allowing the canvas to auto-resize: `canvas auto-resize [ON|OFF]`
Format : canvas auto-resize [ON|OFF]

Turns on/off the auto-resize for the canvas.
[NOTE]
====
New canvases default to having auto-resize off.
====


Examples:

* `canvas auto-resize on`: Allows the canvas to expand and prevent cropping.
* `canvas auto-resize off`: The height and width of the output canvas will remain as is.

==== Saving the output: `canvas save`
Format: `canvas size [FILE_NAME]`

Examples:

* `canvas save out.png` - Saves the current canvas as an image in the `PNG` format.
* `canvas save out.jpg` - Saves the current canvas as an image in the `JPG` format.

=== Layer operations : `layer`

==== Adding a new layer: `layer add [INDEX] (LAYER_NAME)`
[NOTE]
====
If the optional parameter LAYER_NAME is not provided, one will be automatically generated.
====
Selects the image at the provided index and adds it to the current canvas at the very top.

Examples:

* `layer add 4` - Adds the image at index 4 to the canvas.
* `layer add 1 background layer` - Adds the image at index 1 to the canvas as a layer named `backround layer`.

==== Removing a layer: `layer remove [INDEX]`
[WARNING]
====
This operation is not reversible! Be careful when removing layers!
====
[NOTE]
====
The last layer of a canvas is protected from removal.
====
Permanently removes a layer from canvas.

==== Selecting a layer to work on: `layer select [INDEX]`
Selects a layer to that all `convert` operations will work on.

==== Selecting a layer to work on: `layer swap [TO_INDEX] [FROM_INDEX]`
Changes the order of any two distinct layers.

Examples:

* `layer swap 1 2` : Changes the order of layer 1 and layer 2.

==== Locking a layer to prevent accidental edits: `layer lock [INDEX]`
Locks a layer. Locked layers are protected from all `convert`, `swap` and `delete` operations.

Examples:

* `layer lock 2` : Locks layer 2

==== Unlocking a layer: `layer unlock [INDEX]`
Unlocks a layer.

Examples:

* `layer unlock 3` : Unlocks layer 3.

==== Unlocking a layer: `layer position [POSITION]`
Sets the x and y co-ordinates of the current layer.
(0,0) is defined to be the top left of the screen.

Examples:

* `layer position 50x100` : Sets the layer's top right corner to be at position (50, 100).


=== Logging in to Google Photos: `login`

Format: `login`: allows you to log in to Google Photos

[NOTE]
====
*Requires a stable internet connection* +
Once the `login` command is launched, you *MUST* proceed with logging in from the redirected page, otherwise the application will freeze. You may use `logout` afterwards if you have changed your mind. +

A fix is upcoming in v2.0.
====

=== Google Photos related commands: `g`

[NOTE]
====
All commands will require a stable internet connection.
====

==== Traversing Google Photos: `g ls`

Format: `g ls`: lists all photos in your Google Photos, takes a longer amount of time depending on the number of images stored. +
Format: `g ls /a`: lists all albums in your Google Photos. +
Format: `g ls <[ALBUM_NAME]>`: lists all photos in specified album from Google Photos.

Examples:

* `g ls <Vacation>`

==== Downloading photos from Google Photos: `g dl`

[NOTE]
====
All photos will be downloaded to the currently opened local directory. +
Any files with duplicate naming existing in the targeted directory *WILL* be replaced
====

Format: `g dl <[IMAGE_NAME]>`: downloads specified image from Google Photos +
Format: `g dl all <[ALBUM_NAME]>`: downloads all images from specified album in Google Photos, takes a longer amount of time depending on the number of images stored in the album. +
Format: `g dl /a<[ALBUM_NAME]> /i<[IMAGE_NAME]>`: lists a specific photo from a specific album in Google Photos.

Examples:

* `g dl <Beach.png>` -> Downloads Beach.png +
* `g dl all <Vacation>` -> Downloads all photos from Vacation album +
* `g dl /a<Vacation> /i<Beach.png>` -> Downloads Beach.png from Vacation album +

==== Uploading photos to Google Photos: `g ul`

[NOTE]
====
All uploaded photos will be automatically categorised into album 'Piconso Uploads'
====

Format: `g ul <IMAGE_NAME>`: uploads specified image in currently open local directory to Google Photos +
Format: `g ul all`: uploads all images in current directory to Google Photos, takes a longer amount of time depending on number of images to upload.

Examples:

* `g ul <Cat.png>` -> Uploads Cat.png +

=== Logging out of Google Photos: `logout`

Format: `logout`: logs you out of Google Photos

=== Exiting the application: `exit`

Format: `exit`: closes the application

== FAQ

*Q*: How do I transfer my data to another Computer? +
*A*: Install the app in the other computer and overwrite the empty data file it creates with the file that contains the data of your previous folder.

== Command Summary

* *Help* : `help` +
* *Select* : `select [IMAGE_NAME]` +
e.g. `select exampleImage.jpg` +
* *Convert* `convert [TRANSFORMATION]` +
e.g. `add -rotate left 180` +
* *Save* : `save [IMAGE_NAME]/[SET_NAME]` +
e.g. `save exampleImage.jpg` +
* *Undo* : `undo` +
* *Redo* : `redo` +
* *Ls* : `ls` +
* *Cd* : `cd [DIRECTORY_NAME]` +
* *Login* : `login` +
* *Google List* : `g ls OR g ls /a OR g ls <ALBUM_NAME>` +
* *Download* : `g dl <IMAGE_NAME> OR g dl all <ALBUM_NAME> OR g dl /a<ALBUM_NAME> /i<IMAGE_NAME>` +
* *Upload* : `g ul <IMAGE_NAME> OR g ul all` +
* *Logout* : `logout` +
* *Exit* : `exit`
